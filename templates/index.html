{% extends 'query.html' %}
{% load static %}
{% block index %}mm-active{% endblock %}
{% block query %}{% endblock %}
{% block relationship %}{% endblock %}

{% block body %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/demo.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/dialog.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/dialog-donna.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/normalize.css' %}">
    <script src="{% static 'js/modernizr.custom.js' %}"></script>
    <script src="{% static 'js/classie.js' %}"></script>
    <script src="{% static 'js/dialogFx.js' %}"></script>
    <script src="{% static 'js/jquery.min.js' %}"></script>
    <script src="//unpkg.com/3d-force-graph"></script>
    <script src="//unpkg.com/vue/dist/vue.js"></script>
    <script src="//unpkg.com/element-ui@2.15.3/lib/index.js"></script>
    <div id="3d-graph"></div>
    <div id="somedialog" class="dialog">
        <div class="dialog__overlay"></div>
        <div class="dialog__content">
            <p><strong>简介</strong>：敬请期待！</p>
            <p>软件工程是一门研究用工程化方法构建和维护有效、实用和高质量的软件的学科。它涉及程序设计语言、数据库、软件开发工具、系统平台、标准、设计模式等方面。
                在现代社会中，软件应用于多个方面。典型的软件有电子邮件、嵌入式系统、人机界面、办公套件、操作系统、编译器、数据库、游戏等。同时，各个行业几乎都有计算机软件的应用，如工业、农业、银行、航空、政府部门等。这些应用促进了经济和社会的发展，也提高了工作效率和生活效率
                。</p>
            <div>
                <button class="action" data-dialog-close="">关闭</button>
            </div>
        </div>
    </div>
    <script>
        var somedialog = document.getElementById('somedialog'),
            dlg = new DialogFx(somedialog);
        console.log(somedialog)
        console.log(dlg)

        const elem = document.getElementById('3d-graph');
        const Graph = ForceGraph3D()(elem)
            .jsonUrl('../static/data/data.json')
            .nodeAutoColorBy('label')
            .nodeOpacity(0.98)                            //节点透明度
            .backgroundColor('rgba(0,0,0,0)')             //背景色
            .linkOpacity(0.45)                            //连线透明度
            .linkAutoColorBy(link => link.color)           //连线颜色
            .linkResolution(8)                            //连线分辨率
            .nodeResolution(30)                           //节点分辨率
            .nodeVal(node => {
                if (node.label === '课程')
                    node.size = node.size * 5
            })
            .nodeLabel(node => `<p style="font-size: 20px;color: #0D0A0A">${node.label}: ${node.name}<p>`)
            {#.onNodeClick(node => window.open(`https://baike.baidu.com/item/${node.name}`, '_blank'));#}
            .onNodeClick(node => {
                dlg.toggle.bind(dlg)(`${node.name}`)
            });
    </script>
{% endblock %}